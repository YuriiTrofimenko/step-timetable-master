# ItStep Timetable
Веб-приложение для работы с расписанием по сети
## Развертывание
- производится на одном ПК в сети
- предварительные требования:
1. ОС Linux Ubuntu 18.04 / 20.04
2. git
3. docker + docker-compose
- выкачать репозиторий:

[https://github.com/YuriiTrofimenko/step-timetable-master.git]

- войти в каталог с проектом
- выполнить команду развертывания с указанием ip-адреса ПК *address*, на котором оно производится, и порта *port*, на котором будет доступен микросервис бэкенда:

**ITSTEP_TIMETABLE_ADDRESS="*address*" ITSTEP_TIMETABLE_BACKEND_PORT="*port*" docker-compose up**

, например:

**ITSTEP_TIMETABLE_ADDRESS="*192.168.0.102*" ITSTEP_TIMETABLE_BACKEND_PORT="*8090*" docker-compose up**

- первое развертывание может длиться до нескольких минут
- при выходе обновлений необходимо в каталоге проекта выполнить команды вытягивания изменений из удаленного репозитория и повторного развертывания с повторным построением образов Docker:

**git pull**

**ITSTEP_TIMETABLE_ADDRESS="*address*" ITSTEP_TIMETABLE_BACKEND_PORT="*port*" docker-compose up --build**

## Использование
- интерфейс веб-приложения дотупен сразу после окончания развертывания на всех компьютерах в сети по адресу вида:

[http://*address*:3000/timetable]

, например:

[http://192.168.0.106:3000/timetable]

- дизайн веб-интерфейса не адаптивный, предназначен для отображения в браузерах на мониторах ПК и телевизоров;
- для режима просмотра достаточно перейти в браузере по базовому адресу прилождения, кликнуть по стрелке, расположенной вверху по центру, открыть меню и перейти на раздел "Расписание";
- для достижения нормальных размеров карточек уроков и для того, чтобы все временные полосы поместились на экране телевизора по вертикали, необходимо настроить размер шрифта и масштаб содержимого в окне браузера телевизора;
- раздел "Расписание" заполняется карточками уроков из шаблона соответствующего дня недели каждый день после 8 утра, очищается - после 23 вечера;
- время микросервиса бэкенда - киевское, в данной версии менять его при необходимости можно только редактированием строки 2 в файле "step-timetable-backend/Dockerfile";
- для режима редактирования действия те же, но дополнительно нужно в меню открыть раздел "Вход" и войти в учетную запись с именем **admin** и паролем **1**;
- все изменения, произведенные через веб-интерфейс администратором, немедленно отображаются на всех устройствах в сети, где в браузерах открыт раздел расписания, в том числе - у неаутентифицированных пользователей;
- после входа в учетную запись admin становится доступным пункт меню "Шаблоны", в котором можно выбрать день недели и установить расписание на него заранее;
- когда наступит соответствующий день недели, в разделе "Расписание" появится копия ранее подготовленноего расписания, которую можно редактировать;
- если после редактирования шаблонов необходимо немедленно применить шаблон текущего дня к разделу "Расписание" - нужно в разделе "Шаблоны" кликнуть кнопку "Применить сегодня".

## Остановка и удаление
- производится на ПК-сервере
- войти в каталог с проектом в командной оболочке ОС
- выполнить команды удаления контейнеров и очистки диска от "мусора":

**ITSTEP_TIMETABLE_ADDRESS="*address*" ITSTEP_TIMETABLE_BACKEND_PORT="*port*" docker-compose down**
**sudo docker volume prune**
**sudo docker system prune**